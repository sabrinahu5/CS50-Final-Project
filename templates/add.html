{% extends "layout.html" %}

{% block title %}
    Add New Subscription
{% endblock %}

{% block main %}
    <head>
        <script>
            function showFreeTrial(answer) {
                console.log(answer.value);
                if (answer.value == "free_trial") {
                    document.getElementById('trial_dates_title').style.display='block';
                    document.getElementById('trial_dates').style.display='block';
                }
                else {
                    document.getElementById('trial_dates_title').style.display='none';
                    document.getElementById('trial_dates_title').style.display='none';
                }
            };
        </script>
    </head>

    <h2>Add New Subscription</h2>
    <br>

    <form action="/add" method="post">
        Subscription Name
        <div class="mb-3">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="name" name="name" placeholder="Subscription Name" type="text">
        </div>

        Registration Type
        <div class="mb-3">
            <select name = "type" id = "type" onchange="showFreeTrial(this)">
                <option value = "Monthly">Monthly</option>
                <option value = "Yearly">Yearly</option>
                <option value = "free_trial">Free Trial</option>
            </select>
        </div>

        <div class="mb-3">
            <p id="trial_dates_title" style="display:none">Number of Days</p>
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="trial_dates" name="trial_dates" type="number" min="1" max="99" style="display:none">
        </div>

        Registration Date

        <div class="row">
            <div class="col-sm-4"><input class="form-control" id="month" name="month" placeholder="Month" type="number" min="1" max="12"></div>
            <div class="col-sm-4"><input class="form-control" id="day" name="day" placeholder="Day" type="number" min="1" max="31"></div>
            <div class="col-sm-4"><input class="form-control" id="year" name="year" placeholder="Year" type="number" min="2000"></div>
        </div>

        <br> 
        Price Per Unit
        <div class="mb-3">
            <input class="form-control mx-auto w-auto" id="price" name="price" placeholder="Price Per Unit" type="number" min="0.00" max="10000.00" step="0.01">
        </div>
        <button class="btn btn-primary" type="submit">Add New Subscription</button>
    </form>
{% endblock %}
